var FILTERS=function(){var TOTAL_MEMORY=16777216;var buffer=new ArrayBuffer(TOTAL_MEMORY);var HEAPU8=new Uint8Array(buffer);var HEAPF32=new Float32Array(buffer);HEAPU8.set(new Uint8Array([16,0,0,0,0,0,0,0]),8);var asm=function(global,env,buffer){'use asm';var a=new global.Int8Array(buffer);var c=new global.Int32Array(buffer);var d=new global.Uint8Array(buffer);var g=new global.Float32Array(buffer);var s=0,t=0,u=0,v=0,w=(0.0),x=0,y=0,z=0,A=(0.0);var Z=global.Math.imul;function aH(a){a=a|0;var b=0;b=c[2]|0;c[2]=b+a;return b|0;}function aI(a){a=a|0;c[2]=a;return;}function aJ(b,c,e){b=b|0;c=c|0;e=e|0;var f=0,g=0,h=(0.0);f=Z(c<<2,e)|0;e=b+f|0;if((f|0)>0){g=b;}else{return;}do{b=a[g+3|0]|0;if(b<<24>>24==0){a[g]=0;a[g+1|0]=0;a[g+2|0]=0;}else{h=+(b&255|0)/(255.0);a[g]=~~(h*+((d[g]|0)>>>0));b=g+1|0;a[b]=~~(h*+((d[b]|0)>>>0));b=g+2|0;a[b]=~~(h*+((d[b]|0)>>>0));}g=g+4|0;}while(g>>>0<e>>>0);return;}function aK(b,c,e){b=b|0;c=c|0;e=e|0;var f=0,g=0,h=(0.0);f=Z(c<<2,e)|0;e=b+f|0;if((f|0)>0){g=b;}else{return;}do{b=a[g+3|0]|0;if(b<<24>>24==0){a[g]=0;a[g+1|0]=0;a[g+2|0]=0;}else{h=+(b&255|0)/(255.0);a[g]=~~(+((d[g]|0)>>>0)/h);b=g+1|0;a[b]=~~(+((d[b]|0)>>>0)/h);b=g+2|0;a[b]=~~(+((d[b]|0)>>>0)/h);}g=g+4|0;}while(g>>>0<e>>>0);return;}function aL(a,b,c,d,e,f,g){a=a|0;b=b|0;c=c|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0,i=0;if((g|0)==0){h=0;}else{h=g&65280|g<<16|g>>>16&255|-16777216;}if((f|0)>0){i=0;}else{return;}do{aM(a,b,c,d,h);aN(a,b,c,e,h);i=i+1|0;}while((i|0)<(f|0));return;}function aM(b,d,e,f,g){b=b|0;d=d|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0;if((f|0)<1){return;}h=f<<1;i=f<<2;j=f<<3;f=d<<2;k=j+f|0;l=h|1;m=c[2]|0;c[2]=m+k;if((h|0)>0){n=m;o=m+(k-4)|0;k=0;while(1){c[n>>2]=g;c[o>>2]=g;p=k+1|0;if((p|0)<(h|0)){n=n+4|0;o=o-4|0;k=p;}else{break;}}}L9:do{if((e|0)>0){k=m+j|0;o=f-j|0;if((f|0)==(j|0)){n=b;h=0;while(1){aO(n,m,d,l);g=h+1|0;if((g|0)<(e|0)){n=n+j|0;h=g;}else{break L9;}}}else{q=b;r=0;}while(1){h=k;n=q+i|0;g=o;while(1){p=g-1|0;a[h]=a[n]|0;if((p|0)==0){break;}else{h=h+1|0;n=n+1|0;g=p;}}aO(q,m,d,l);g=r+1|0;if((g|0)<(e|0)){q=q+f|0;r=g;}else{break;}}}}while(0);c[2]=m;return;}function aN(a,b,d,e,f){a=a|0;b=b|0;d=d|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0;if((e|0)<1){return;}g=e<<1;h=d<<2;i=(e<<3)+h|0;j=g|1;k=c[2]|0;l=k+i|0;c[2]=l;m=k;if((g|0)>0){n=k+(i-4)|0;i=0;o=m;while(1){c[o>>2]=f;c[n>>2]=f;p=i+1|0;if((p|0)<(g|0)){n=n-4|0;i=p;o=o+4|0;}else{break;}}q=c[2]|0;}else{q=l;}c[2]=q+h;if((h|0)!=0){aV(q|0,0,h|0)|0;}h=Z(e,b)|0;L13:do{if((b|0)>0){e=m+(g<<2)|0;l=d-g|0;o=q;i=(d|0)>0;if((l|0)<=0){if(i){r=a;s=0;}else{n=0;while(1){aO(o,k,d,j);n=n+1|0;if((n|0)>=(b|0)){break L13;}}}while(1){aO(o,k,d,j);n=r;f=o;p=0;while(1){c[n>>2]=c[f>>2];t=p+1|0;if((t|0)<(d|0)){n=n+(b<<2)|0;f=f+4|0;p=t;}else{break;}}p=s+1|0;if((p|0)<(b|0)){r=r+4|0;s=p;}else{break L13;}}}if(i){u=a;v=0;}else{p=a;f=0;while(1){n=p+(h<<2)|0;t=e;w=0;while(1){c[t>>2]=c[n>>2];x=w+1|0;if((x|0)<(l|0)){n=n+(b<<2)|0;t=t+4|0;w=x;}else{break;}}aO(o,k,d,j);w=f+1|0;if((w|0)<(b|0)){p=p+4|0;f=w;}else{break L13;}}}while(1){f=u;p=f+(h<<2)|0;i=e;w=0;while(1){c[i>>2]=c[p>>2];t=w+1|0;if((t|0)<(l|0)){p=p+(b<<2)|0;i=i+4|0;w=t;}else{break;}}aO(o,k,d,j);w=f;i=o;p=0;while(1){c[w>>2]=c[i>>2];t=p+1|0;if((t|0)<(d|0)){w=w+(b<<2)|0;i=i+4|0;p=t;}else{break;}}p=v+1|0;if((p|0)<(b|0)){u=u+4|0;v=p;}else{break;}}}}while(0);c[2]=k;return;}function aO(a,b,e,f){a=a|0;b=b|0;e=e|0;f=f|0;var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0;g=f<<2;h=b+g|0;if((g|0)>0){g=0;i=0;j=0;k=b;l=0;while(1){m=(d[k]|0)+l|0;n=(d[k+1|0]|0)+g|0;o=(d[k+2|0]|0)+i|0;p=(d[k+3|0]|0)+j|0;q=k+4|0;if(q>>>0<h>>>0){g=n;i=o;j=p;k=q;l=m;}else{r=n;s=o;t=p;u=m;break;}}}else{r=0;s=0;t=0;u=0;}if((e|0)>0){v=r;w=s;x=t;y=u;z=b;A=h;B=a;C=0;}else{return;}while(1){a=(x|0)/(f|0)|0;if((a&255|0)==0){D=0;}else{D=(y|0)/(f|0)|0|a<<24|((v|0)/(f|0)|0)<<8|((w|0)/(f|0)|0)<<16;}c[B>>2]=D;a=C+1|0;if((a|0)<(e|0)){v=(d[A+1|0]|0)+v-(d[z+1|0]|0)|0;w=(d[A+2|0]|0)+w-(d[z+2|0]|0)|0;x=(d[A+3|0]|0)+x-(d[z+3|0]|0)|0;y=(d[A]|0)+y-(d[z]|0)|0;z=z+4|0;A=A+4|0;B=B+4|0;C=a;}else{break;}}return;}function aP(b,e,f,g,h,i,j,k,l,m,n){b=b|0;e=e|0;f=f|0;g=g|0;h=h|0;i=i|0;j=j|0;k=k|0;l=l|0;m=m|0;n=n|0;var o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0;f=i-1|0;o=Z(f,g)|0;p=Z(f,h)|0;if((i|0)<=0){return;}f=(g|0)<1;q=g<<1;r=h<<1;s=q|1;t=(q|0)==0;u=(s|0)>0;v=m-(o<<1)|0;m=n-(p<<1)|0;n=p+l|0;l=o+k|0;k=0;while(1){if(f){w=v+q|0;}else{o=b+((Z(n,e)|0)+l)|0;p=v+q|0;x=c[2]|0;c[2]=x+p;if(!t){aV(x|0,j|0,q|0)|0;aV(x+v|0,j|0,q|0)|0;}if((m|0)>0){y=x+q|0;z=v-q|0;A=(q|0)==(v|0);B=x+s|0;C=(v|0)>0;D=o;o=0;while(1){if(!A){E=y;F=D+g|0;G=z;while(1){H=G-1|0;a[E]=a[F]|0;if((H|0)==0){break;}else{E=E+1|0;F=F+1|0;G=H;}}}if(u){G=0;F=x;while(1){E=F+1|0;H=(d[F]|0)+G|0;if(E>>>0<B>>>0){G=H;F=E;}else{I=H;break;}}}else{I=0;}if(C){F=I;G=D;H=x;E=B;J=0;while(1){a[G]=(F>>>0)/(s>>>0)|0;K=J+1|0;if((K|0)<(v|0)){F=(d[E]|0)+F-(d[H]|0)|0;G=G+1|0;H=H+1|0;E=E+1|0;J=K;}else{break;}}}J=o+1|0;if((J|0)<(m|0)){D=D+e|0;o=J;}else{break;}}}c[2]=x;w=p;}aQ(b,e,0,h,j,l,n,v,m);o=k+1|0;if((o|0)<(i|0)){v=w;m=m+r|0;n=n-h|0;l=l-g|0;k=o;}else{break;}}return;}function aQ(b,e,f,g,h,i,j,k,l){b=b|0;e=e|0;f=f|0;g=g|0;h=h|0;i=i|0;j=j|0;k=k|0;l=l|0;var m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0;if((g|0)<1){return;}f=b+((Z(j,e)|0)+i)|0;i=g<<1;j=i|1;b=c[2]|0;m=b+(i+l)|0;c[2]=m;if((i|0)==0){n=m;}else{aV(b|0,h|0,i|0)|0;aV(b+l|0,h|0,i|0)|0;n=c[2]|0;}c[2]=n+l;if((l|0)!=0){aV(n|0,0,l|0)|0;}h=Z(g,e)|0;if((k|0)>0){g=b+i|0;m=l-i|0;i=(m|0)>0;o=b+j|0;p=(j|0)>0;q=(l|0)>0;r=f;f=0;while(1){if(i){s=r+h|0;t=g;u=0;while(1){a[t]=a[s]|0;v=u+1|0;if((v|0)<(m|0)){s=s+e|0;t=t+1|0;u=v;}else{break;}}}if(p){u=0;t=b;while(1){s=t+1|0;v=(d[t]|0)+u|0;if(s>>>0<o>>>0){u=v;t=s;}else{w=v;break;}}}else{w=0;}do{if(q){t=w;u=n;v=b;s=o;x=0;while(1){a[u]=(t>>>0)/(j>>>0)|0;y=x+1|0;if((y|0)<(l|0)){t=(d[s]|0)+t-(d[v]|0)|0;u=u+1|0;v=v+1|0;s=s+1|0;x=y;}else{break;}}if(q){z=r;A=n;B=0;}else{break;}while(1){a[z]=a[A]|0;x=B+1|0;if((x|0)<(l|0)){z=z+e|0;A=A+1|0;B=x;}else{break;}}}}while(0);x=f+1|0;if((x|0)<(k|0)){r=r+1|0;f=x;}else{break;}}}c[2]=b;return;}function aR(b,e,f,g,h,i,j,k,l,m,n,o){b=b|0;e=e|0;f=f|0;g=g|0;h=h|0;i=i|0;j=j|0;k=k|0;l=l|0;m=+m;n=n|0;o=o|0;var p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=0,O=0,P=0,Q=(0.0),R=(0.0),S=(0.0),T=(0.0),U=0,V=0,W=0,X=0,Y=0,_=0,$=0;j=o&2;p=o>>>2&1;q=Z(f,e)|0;r=q<<2;s=(o&1|0)!=0;o=s<<31>>31;t=c[2]|0;c[2]=t+r;if((q|0)!=0){aV(t|0,o|0,q|0)|0;}u=b+3|0;do{if((h|g|0)==0){v=(q|0)>0;if(s){if(v){w=u;x=t;y=0;}else{break;}while(1){a[x]=~a[w];z=y+1|0;if((z|0)<(q|0)){w=w+4|0;x=x+1|0;y=z;}else{break;}}}else{if(v){A=u;B=t;C=0;}else{break;}while(1){a[B]=a[A]|0;z=C+1|0;if((z|0)<(q|0)){A=A+4|0;B=B+1|0;C=z;}else{break;}}}}else{v=e-((g|0)<0?-g|0:g)|0;z=f-((h|0)<0?-h|0:h)|0;D=e<<2;if((g|0)>0){E=t+g|0;F=u;}else{E=t;F=b+(-(g<<2)|3)|0;}G=Z(h,e)|0;if((h|0)>0){H=E+G|0;I=F;}else{H=E;I=F+(-(G<<2)|0)|0;}G=(z|0)>0;if(s){if(!G){break;}J=(v|0)>0;K=0;L=I;M=H;while(1){if(J){N=0;O=0;while(1){a[M+O|0]=~a[L+N|0];P=O+1|0;if((P|0)<(v|0)){N=N+4|0;O=P;}else{break;}}}O=K+1|0;if((O|0)<(z|0)){K=O;L=L+D|0;M=M+e|0;}else{break;}}}else{if(!G){break;}M=(v|0)>0;L=0;K=I;J=H;while(1){if(M){O=0;N=0;while(1){a[J+N|0]=a[K+O|0]|0;P=N+1|0;if((P|0)<(v|0)){O=O+4|0;N=P;}else{break;}}}N=L+1|0;if((N|0)<(z|0)){L=N;K=K+D|0;J=J+e|0;}else{break;}}}}}while(0);aP(t,e,f,k,l,n,o,0,0,e,f);o=i>>>16&255;n=i>>>8&255;l=i&255;i=o|l<<16|n<<8|-16777216;k=q-1|0;if((k|0)>=0){Q=+(o|0);R=+(n|0);S=+(l|0);l=t+(k<<2)|0;n=t+k|0;while(1){k=~~(+(d[n]|0|0)*m);do{if(k>>>0>254>>>0){c[l>>2]=i;}else{if((k|0)==0){c[l>>2]=0;break;}else{T=+(k>>>0>>>0)/(255.0);c[l>>2]=~~(Q*T)|k<<24|~~(R*T)<<8|~~(S*T)<<16;break;}}}while(0);k=n-1|0;if(k>>>0<t>>>0){break;}else{l=l-4|0;n=k;}}}if(s){if((p|j|0)==0){aS(b,t,e,f);c[2]=t;return;}else{aT(b,t,e,f);c[2]=t;return;}}if((j|0)==0){if((p|0)==0){p=Z(e<<2,f)|0;j=t+p|0;if((p|0)>0){U=t;V=b;}else{c[2]=t;return;}while(1){S=+(d[V+3|0]|0|0)/(255.0);R=(1.0)-S;c[V>>2]=~~(+(d[V+1|0]|0|0)+ +(d[U+1|0]|0|0)*R)<<8|~~(+(d[V]|0|0)+ +(d[U]|0|0)*R)|~~(+(d[V+2|0]|0|0)+ +(d[U+2|0]|0|0)*R)<<16|~~((S+ +(d[U+3|0]|0|0)/(255.0)*R)*(255.0))<<24;p=U+4|0;if(p>>>0<j>>>0){U=p;V=V+4|0;}else{break;}}c[2]=t;return;}else{if((r|0)==0){c[2]=t;return;}else{W=b;X=t;Y=r;}while(1){r=Y-1|0;a[W]=a[X]|0;if((r|0)==0){break;}else{W=W+1|0;X=X+1|0;Y=r;}}c[2]=t;return;}}else{Y=Z(e<<2,f)|0;f=t+Y|0;if((Y|0)>0){_=t;$=b;}else{c[2]=t;return;}while(1){b=$;Y=a[$+3|0]|0;e=Y&255;do{if(Y<<24>>24==0){c[b>>2]=c[_>>2];}else{X=a[_+3|0]|0;if(X<<24>>24==0){c[b>>2]=0;break;}else{R=(1.0)-+(e|0)/(255.0);c[b>>2]=~~(+(X&255|0)*R)<<24|~~(R*+(d[_]|0|0))|~~(R*+(d[_+1|0]|0|0))<<8|~~(R*+(d[_+2|0]|0|0))<<16;break;}}}while(0);b=_+4|0;if(b>>>0<f>>>0){_=b;$=$+4|0;}else{break;}}c[2]=t;return;}}function aS(b,e,f,g){b=b|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=(0.0),l=(0.0),m=(0.0),n=(0.0),o=(0.0),p=(0.0),q=(0.0),r=0,s=0,t=0,u=0;h=Z(f<<2,g)|0;g=e+h|0;if((h|0)>0){i=e;j=b;}else{return;}while(1){b=j;e=a[j+3|0]|0;h=e&255;do{if(e<<24>>24==0){c[b>>2]=0;}else{f=a[i+3|0]|0;if(f<<24>>24==0){break;}k=+(h|0)/(255.0);l=+(f&255|0)/(255.0);m=(1.0)-l;n=k*+(d[i]|0|0)+m*+(d[j]|0|0);o=k*+(d[i+1|0]|0|0)+m*+(d[j+1|0]|0|0);p=k*+(d[i+2|0]|0|0)+m*+(d[j+2|0]|0|0);q=(k*l+k*m)*(255.0);if(n>(255.0)){r=255;}else{r=n<(0.0)?0:~~n;}if(o>(255.0)){s=65280;}else{s=o<(0.0)?0:~~o<<8;}if(p>(255.0)){t=16711680;}else{t=p<(0.0)?0:~~p<<16;}if(q>(255.0)){u=-16777216;}else{u=q<(0.0)?0:~~q<<24;}c[b>>2]=s|r|t|u;}}while(0);b=i+4|0;if(b>>>0<g>>>0){i=b;j=j+4|0;}else{break;}}return;}function aT(b,e,f,g){b=b|0;e=e|0;f=f|0;g=g|0;var h=0,i=0,j=0,k=(0.0),l=(0.0),m=(0.0),n=(0.0),o=(0.0),p=0,q=0,r=0,s=0;h=Z(f<<2,g)|0;g=e+h|0;if((h|0)>0){i=e;j=b;}else{return;}while(1){b=j;e=a[j+3|0]|0;h=e&255;do{if(e<<24>>24==0){c[b>>2]=0;}else{f=a[i+3|0]|0;if(f<<24>>24==0){c[b>>2]=0;break;}k=+(h|0)/(255.0);l=k*+(d[i]|0|0);m=k*+(d[i+1|0]|0|0);n=k*+(d[i+2|0]|0|0);o=+(f&255|0)*k;if(l>(255.0)){p=255;}else{p=l<(0.0)?0:~~l;}if(m>(255.0)){q=65280;}else{q=m<(0.0)?0:~~m<<8;}if(n>(255.0)){r=16711680;}else{r=n<(0.0)?0:~~n<<16;}if(o>(255.0)){s=-16777216;}else{s=o<(0.0)?0:~~o<<24;}c[b>>2]=q|p|r|s;}}while(0);b=i+4|0;if(b>>>0<g>>>0){i=b;j=j+4|0;}else{break;}}return;}function aU(a,b,e,f){a=a|0;b=b|0;e=e|0;f=f|0;var h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=(0.0),B=(0.0),C=(0.0),D=(0.0),E=(0.0),F=(0.0),G=(0.0),H=(0.0),I=0,J=0,K=0,L=0;h=Z(b<<2,e)|0;e=a+h|0;if((h|0)<=0){return;}h=f+4|0;b=f+8|0;i=f+12|0;j=f+16|0;k=f+20|0;l=f+24|0;m=f+28|0;n=f+32|0;o=f+36|0;p=f+40|0;q=f+44|0;r=f+48|0;s=f+52|0;t=f+56|0;u=f+60|0;v=f+64|0;w=f+68|0;x=f+72|0;y=f+76|0;z=a;while(1){A=+(d[z]|0|0);B=+(d[z+1|0]|0|0);C=+(d[z+2|0]|0|0);D=+(d[z+3|0]|0|0);E=+g[j>>2]+(A*+g[f>>2]+B*+g[h>>2]+C*+g[b>>2]+D*+g[i>>2]);F=+g[o>>2]+(A*+g[k>>2]+B*+g[l>>2]+C*+g[m>>2]+D*+g[n>>2]);G=+g[t>>2]+(A*+g[p>>2]+B*+g[q>>2]+C*+g[r>>2]+D*+g[s>>2]);H=+g[y>>2]+(A*+g[u>>2]+B*+g[v>>2]+C*+g[w>>2]+D*+g[x>>2]);if(E>(255.0)){I=255;}else{I=E<(0.0)?0:~~E;}if(F>(255.0)){J=65280;}else{J=F<(0.0)?0:~~F<<8;}if(G>(255.0)){K=16711680;}else{K=G<(0.0)?0:~~G<<16;}if(H>(255.0)){L=-16777216;}else{L=H<(0.0)?0:~~H<<24;}a=z+4|0;c[z>>2]=J|I|K|L;if(a>>>0<e>>>0){z=a;}else{break;}}return;}function aV(b,d,e){b=b|0;d=d|0;e=e|0;var f=0,g=0,h=0,i=0;f=b+e|0;if((e|0)>=20){d=d&255;g=b&3;h=d|d<<8|d<<16|d<<24;i=f&~3;if(g){g=b+4-g|0;while((b|0)<(g|0)){a[b]=d;b=b+1|0;}}while((b|0)<(i|0)){c[b>>2]=h;b=b+4|0;}}while((b|0)<(f|0)){a[b]=d;b=b+1|0;}return b-e|0;}return{_dropshadow:aR,_unpreMultiplyAlpha:aK,_blur:aL,_preMultiplyAlpha:aJ,_freeMemory:aI,_allocMemory:aH,_colormatrix:aU};}({'Math':Math,'Int8Array':Int8Array,'Int16Array':Int16Array,'Int32Array':Int32Array,'Uint8Array':Uint8Array,'Uint16Array':Uint16Array,'Uint32Array':Uint32Array,'Float32Array':Float32Array,'Float64Array':Float64Array},{},buffer);return{allocMemory:asm._allocMemory,freeMemory:asm._freeMemory,preMultiplyAlpha:asm._preMultiplyAlpha,unpreMultiplyAlpha:asm._unpreMultiplyAlpha,blur:asm._blur,dropshadow:asm._dropshadow,colormatrix:asm._colormatrix,HEAPU8:HEAPU8,HEAPF32:HEAPF32};}();